(function(){"use strict";var e={9672:function(e,t,r){var i=r(144),s=r(998),n=r(5716),a=r(266),o=r(2118),c=r(3059),l=r(1713),u=r(3687),f=function(){var e=this,t=e._self._c;return t(s.Z,[t(n.Z,{attrs:{app:"",color:"primary",dark:""}},[t("div",{staticClass:"d-flex align-center"},[e._v(" Secret Server ")]),t(u.Z)],1),t(c.Z,[t(o.Z,[t(l.Z,{staticClass:"mb-6",attrs:{"no-gutters":""}},[t(a.Z,{attrs:{md:"6",sm:"5"}},[t("CreateSecret")],1),t(a.Z,{attrs:{md:"6",sm:"5"}},[t("ViewSecret")],1)],1)],1)],1)],1)},d=[],h=r(6190),p=r(9582),m=r(4886),v=r(5125),x=r(7149),Z=r(1783),g=r(7953),b=function(){var e=this,t=e._self._c;return t(o.Z,{attrs:{fluid:"","mt-2":""}},[t(p.Z,{staticClass:"elevation-12",attrs:{"min-height":"100%"}},[t(Z.Z,{attrs:{dark:"",color:"primary"}},[t(g.qW,[e._v("Create secret")])],1),t(m.ZB,[t(v.Z,{ref:"secretForm"},[t(x.Z,{attrs:{rules:e.secretRules,type:"string",name:"secretText",label:"Secret Text",hint:"Text to hide",required:""},model:{value:e.secretText,callback:function(t){e.secretText=t},expression:"secretText"}}),t("br"),t(x.Z,{attrs:{rules:e.expireAfterViewsRule,pattern:"\\d+",min:"0",max:"8",type:"number",label:"Expire After Views",required:"",name:"expireAfterViews",hint:"Set a limit for views"},model:{value:e.expireAfterViews,callback:function(t){e.expireAfterViews=t},expression:"expireAfterViews"}}),t("br"),t(x.Z,{attrs:{rules:e.expireAfterRule,pattern:"\\d+",min:"0",max:"8",type:"number",label:"Expire after minutes",required:"",name:"expireAfter",hint:"Set a limit in minutes (Set zero for no limit)"},model:{value:e.expireAfter,callback:function(t){e.expireAfter=t},expression:"expireAfter"}})],1)],1),t(m.h7,[t("span",[e._v(e._s(e.hash))]),t(u.Z),t(h.Z,{attrs:{loading:e.loading,color:"primary"},on:{click:e.createSecret}},[e._v(e._s(e.loading?"Loading":e.success?"Secret Created":"Create Secret"))])],1)],1)],1)},_=[],w={data:()=>({secretText:"",expireAfterViews:0,expireAfter:0,loading:!1,hash:"",success:!1,secretRules:[e=>!!e||"Secret text is required"],expireAfterViewsRule:[e=>""!==e||"Expire after views is required",e=>e>0||"Expire after views must be bigger than 0"],expireAfterRule:[e=>""!==e||"Expire after is required",e=>e>=0||"Expire after must be bigger or equal to 0"]}),methods:{createSecret:async function(){if(this.$refs.secretForm.validate())return this.loading=!0,void fetch("https://secret-server-task-app.herokuapp.com/v1/secret",{body:`secret=${this.secretText}&expireAfterViews=${this.expireAfterViews}&expireAfter=${this.expireAfter}`,headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"post"}).then((e=>e.json())).then((e=>{console.log(e),this.hash="Hash: "+e.hash,this.loading=!1,this.success=!0,setTimeout((()=>{this.success=!1}),1e3)})).catch((e=>{console.error(e)}))}}},y=w,A=r(1001),S=(0,A.Z)(y,b,_,!1,null,null,null),k=S.exports,V=r(4324),T=r(5808),C=r(4525),O=r(6195),$=r(982),j=r(4611),q=r(2540),E=function(){var e=this,t=e._self._c;return t(o.Z,{attrs:{fluid:"","mt-2":""}},[t(p.Z,{staticClass:"elevation-12",attrs:{"min-height":"100%"}},[t(Z.Z,{attrs:{dark:"",color:"primary"}},[t(g.qW,[e._v("View secret")])],1),t(m.ZB,[t(v.Z,{ref:"secretViewForm"},[t(x.Z,{attrs:{rules:e.secretHash,type:"string",name:"secretText",label:"Hash Text",hint:"Hash",required:""},model:{value:e.hash,callback:function(t){e.hash=t},expression:"hash"}})],1),t(T.Z,{style:{display:e.visible?"":"none"},attrs:{disabled:""}},[t(q.Z,[e._v("Data")]),t($.Z,{attrs:{color:"primary"}},[t(C.Z,[t(j.Z,[t(V.Z,[e._v("mdi-format-text")])],1),t(O.km,[t(O.V9,[e._v("Secret text: "+e._s(e.data.secretText))])],1)],1),t(C.Z,[t(j.Z,[t(V.Z,[e._v("mdi-pound")])],1),t(O.km,[t(O.V9,[e._v("Hash: "+e._s(e.data.hash))])],1)],1),t(C.Z,[t(j.Z,[t(V.Z,[e._v("mdi-clock")])],1),t(O.km,[t(O.V9,[e._v("Expires at: "+e._s(e.data.expiresAt))])],1)],1),t(C.Z,[t(j.Z,[t(V.Z,[e._v("mdi-clock")])],1),t(O.km,[t(O.V9,[e._v("Created at: "+e._s(e.data.createdAt))])],1)],1),t(C.Z,[t(j.Z,[t(V.Z,[e._v("mdi-clock")])],1),t(O.km,[t(O.V9,[e._v("Remaining views at: "+e._s(e.data.remainingViews))])],1)],1)],1)],1)],1),t(m.h7,[t("span",[e._v(e._s(e.info))]),t(u.Z),t(h.Z,{attrs:{loading:e.loading,color:"primary"},on:{click:e.loadSecret}},[e._v("Load secret")])],1)],1)],1)},H=[],P={data:()=>({info:"",loading:!1,hash:"",visible:!1,data:{hash:"",secretText:"",expiresAt:"",createdAt:"",remainingViews:0},secretHash:[e=>!!e||"Secret hash"]}),methods:{loadSecret:function(){this.$refs.secretViewForm.validate()&&(this.loading=!0,this.visible=!1,fetch("https://secret-server-task-app.herokuapp.com/v1/secret/"+this.hash,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"get"}).then((e=>e.json())).then((e=>{if(void 0!=e.message)this.info=e.message;else{this.visible=!0,this.info="Secret Found",this.data=e;let t=new Date(e.createdAt);this.data.createdAt=`${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}`;let r=new Date(e.expiresAt);this.data.expiresAt=`${r.getHours()}:${r.getMinutes()}:${r.getSeconds()}`}this.loading=!1})).catch((e=>{this.loading=!1,this.info=e.message,console.error(e)})))}}},R=P,F=(0,A.Z)(R,E,H,!1,null,null,null),M=F.exports,D={name:"App",components:{CreateSecret:k,ViewSecret:M},data:()=>({})},B=D,L=(0,A.Z)(B,f,d,!1,null,null,null),W=L.exports,z=r(8864);i.ZP.use(z.Z);var G=new z.Z({});i.ZP.config.productionTip=!1,new i.ZP({vuetify:G,render:e=>e(W)}).$mount("#app")}},t={};function r(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,i,s,n){if(!i){var a=1/0;for(u=0;u<e.length;u++){i=e[u][0],s=e[u][1],n=e[u][2];for(var o=!0,c=0;c<i.length;c++)(!1&n||a>=n)&&Object.keys(r.O).every((function(e){return r.O[e](i[c])}))?i.splice(c--,1):(o=!1,n<a&&(a=n));if(o){e.splice(u--,1);var l=s();void 0!==l&&(t=l)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[i,s,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,n,a=i[0],o=i[1],c=i[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(c)var u=c(r)}for(t&&t(i);l<a.length;l++)n=a[l],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(u)},i=self["webpackChunkvue_secret_server"]=self["webpackChunkvue_secret_server"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(9672)}));i=r.O(i)})();
//# sourceMappingURL=app.43532b56.js.map